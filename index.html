<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="utf-8">
  <title>Panorama Viewer</title>
  <style>
    html,
    body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      margin: 0;
    }

    #container {
      width: 100%;
      height: 100%;
    }

    .infospot-label {
      font-size: 14px;
      color: white;
      background: rgba(0, 0, 0, 0.5);
      padding: 5px;
      border-radius: 3px;
    }
  </style>
</head>

<body>

  <!-- Sử dụng đường dẫn tương đối để liên kết các tệp JavaScript -->
  <script src="three.js"></script>
  <script src="panolens.min.js"></script>

  <div id="container"></div>

  <script>
    // Khởi tạo các biến
    var panorama, viewer, container, infospot, infospot2;

    // Lấy phần tử HTML chứa panorama
    container = document.querySelector('#container');

    // Tạo panorama từ hình ảnh
    panorama = new PANOLENS.ImagePanorama('pic.jpg');

    // Tạo phần tử HTML cho tên infospot
    function createInfospotLabel(text) {
      var label = document.createElement('div');
      label.className = 'infospot-label';
      label.textContent = text;
      return label;
    }

    // Tạo infospot thứ nhất và thêm sự kiện click
    infospot = new PANOLENS.Infospot(300, PANOLENS.DataImage.Info);
    infospot.position.set(1000, 100, -4000);
    infospot.addHoverElement(createInfospotLabel('Xem Toilet'), 200);
    infospot.addEventListener('click', function () {
      console.log("Infospot 1 clicked");
      window.location.href = 'page1.html'; // Chuyển đến trang page1.html
    });

    // Tạo infospot thứ hai và thêm sự kiện click
    infospot2 = new PANOLENS.Infospot(300, PANOLENS.DataImage.Info);
    infospot2.position.set(-1700, 100, -3000);
    infospot2.addHoverElement(createInfospotLabel('Xem phòng tắm'), 200);
    infospot2.addEventListener('click', function () {
      console.log("Infospot 2 clicked");
      window.location.href = 'page2.html'; // Chuyển đến trang page2.html
    });

    // Tạo infospot thứ ba và thêm sự kiện click
    infospot3 = new PANOLENS.Infospot(300, PANOLENS.DataImage.Info);
    infospot3.position.set(-2700, -800, 2000);
    infospot3.addHoverElement(createInfospotLabel('Xem cầu thang'), 200);
    infospot3.addEventListener('click', function () {
      console.log("Infospot 3 clicked");
      window.location.href = 'page3.html'; // Chuyển đến trang page2.html
    });
    // Tạo infospot thứ ba và thêm sự kiện click
    infospot4 = new PANOLENS.Infospot(300, PANOLENS.DataImage.Info);
    infospot4.position.set(-500, -700, -4000);
    infospot4.addHoverElement(createInfospotLabel('Lại gần Lavabo'), 200);
    infospot4.addEventListener('click', function () {
      console.log("Infospot 4 clicked");
      window.location.href = 'page4.html'; // Chuyển đến trang page2.html
    });
    // Thêm các infospot vào panorama
    panorama.add(infospot, infospot2, infospot3, infospot4);

    // Tạo viewer và thêm panorama vào viewer
    viewer = new PANOLENS.Viewer({
      container: container
    });
    viewer.add(panorama);
  </script>

</body>

</html>
